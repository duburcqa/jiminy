

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>robot &mdash; jiminy 1.8.12 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../_static/documentation_options.js?v=32cf9813"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="simulator" href="simulator.html" />
    <link rel="prev" title="utilities" href="core/utilities.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            jiminy
              <img src="../../_static/jiminy_logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">README</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../README.html">Key features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README.html#gym-jiminy">Gym Jiminy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README.html#demo">Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../README.html#getting-started">Getting started</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">INSTALLATION</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../INSTALL.html">Easy-install on Ubuntu 18+</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../INSTALL.html#building-from-source">Building from source</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">TUTORIALS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial.html">An introduction to Jiminy</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API DOC</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../jiminy/index.html">Jiminy C++ API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Jiminy Python API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="core/index.html">core</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">robot</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#jiminy_py.robot.generate_default_hardware_description_file"><code class="docutils literal notranslate"><span class="pre">generate_default_hardware_description_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#jiminy_py.robot.load_hardware_description_file"><code class="docutils literal notranslate"><span class="pre">load_hardware_description_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#jiminy_py.robot.BaseJiminyRobot"><code class="docutils literal notranslate"><span class="pre">BaseJiminyRobot</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#jiminy_py.robot.BaseJiminyRobot.initialize"><code class="docutils literal notranslate"><span class="pre">BaseJiminyRobot.initialize()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="simulator.html">simulator</a></li>
<li class="toctree-l2"><a class="reference internal" href="viewer.html">viewer</a></li>
<li class="toctree-l2"><a class="reference internal" href="log.html">log</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot.html">plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="dynamics.html">dynamics</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../gym_jiminy/common/index.html">Gym Jiminy API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Technical Specifications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../spec/src/tlmc_format_specification.html">HDF5 telemetry log format (TLMC)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../spec/pdf/index.html">Downloadable PDF</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">jiminy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Jiminy Python API</a></li>
      <li class="breadcrumb-item active">robot</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/api/jiminy_py/robot.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-jiminy_py.robot">
<span id="robot"></span><h1>robot<a class="headerlink" href="#module-jiminy_py.robot" title="Link to this heading">¶</a></h1>
<p>This module adds the notion of hardware and option TOML configuration files
for robots. It provides utilities for generating them automatically and a basic
wrapper on top of the lower-level Jiminy Robot for loading them.</p>
<dl class="py function">
<dt class="sig sig-object py" id="jiminy_py.robot.generate_default_hardware_description_file">
<span class="sig-prename descclassname"><span class="pre">jiminy_py.robot.</span></span><span class="sig-name descname"><span class="pre">generate_default_hardware_description_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">urdf_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hardware_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_update_rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jiminy_py/robot.html#generate_default_hardware_description_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jiminy_py.robot.generate_default_hardware_description_file" title="Link to this definition">¶</a></dt>
<dd><p>Generate a default hardware description file, based on the information
grabbed from the URDF when available, using educated guess otherwise.</p>
<p>If no IMU sensor is found, a single one is added on the root body of the
kinematic tree. If no Gazebo plugin is available, collision bodies and
force sensors are added on every leaf body of the robot. Otherwise, the
definition of the plugins in use to infer them.</p>
<p>‘joint’ fields are parsed to extract every joint, actuated or not. ‘fixed’
joints are not considered as actual joints. Transmission fields are parsed
to determine which one of those joints are actuated. If no transmission is
found, it is assumed that every joint is actuated, with a transmission
ratio of 1:1.</p>
<p>It is assumed that:</p>
<ul class="simple">
<li><p>every joint has an encoder attached,</p></li>
<li><p>every actuated joint has an effort sensor attached,</p></li>
<li><p>every collision body has a force sensor attached</p></li>
<li><p>for every Gazebo contact sensor, the associated body is added
to the set of the collision bodies, but it is not the case
for Gazebo force plugin.</p></li>
</ul>
<p>When the default update rate is unspecified, then the default
sensor update rate is 1KHz if no Gazebo plugin has been found,
otherwise the highest one among found plugins will be used.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It has been primarily designed for robots with freeflyer. The default
configuration should work out-of-the-box for walking robot, but
substantial modification may be required for different types of robots
such as wheeled robots or robotics manipulator arms.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TOML format as be chosen to make reading and manually editing of the
file as human-friendly as possible.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>urdf_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Fullpath of the URDF file.</p></li>
<li><p><strong>hardware_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> | </em><em>None</em>) – Fullpath of the hardware description file.
Optional: By default, it is the same location than
the URDF file, using ‘*_hardware.toml’ extension.</p></li>
<li><p><strong>default_update_rate</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – Default update rate of the sensors and the
controller in Hz. It will be used for sensors
whose the update rate is unspecified. 0.0 for
continuous update.
Optional: DEFAULT_UPDATE_RATE if no Gazebo
plugin has been found, the lowest among the
Gazebo plugins otherwise.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – Whether to print warnings.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>None</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="jiminy_py.robot.load_hardware_description_file">
<span class="sig-prename descclassname"><span class="pre">jiminy_py.robot.</span></span><span class="sig-name descname"><span class="pre">load_hardware_description_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">robot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hardware_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">avoid_instable_collisions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jiminy_py/robot.html#load_hardware_description_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jiminy_py.robot.load_hardware_description_file" title="Link to this definition">¶</a></dt>
<dd><p>Load hardware configuration file.</p>
<p>If no collision geometry is associated with the body requiring collision
handling, then the visual geometry is used instead, if any. If none is
available despite at, then a single contact point is added at body frame.</p>
<p>For now, every mesh used for collision are replaced by the vertices of the
associated minimum volume bounding box, to avoid numerical instabilities.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>robot</strong> (<a class="reference internal" href="core/robot.html#jiminy_py.core.Robot" title="jiminy_py.core.Robot"><em>Robot</em></a>) – Jiminy robot.</p></li>
<li><p><strong>hardware_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Path of Jiminy hardware description toml file.</p></li>
<li><p><strong>avoid_instable_collisions</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – Prevent numerical instabilities by
replacing collision mesh by vertices of
associated minimal volume bounding box,
and primitive box by its vertices.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – Whether to print warnings.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Unused information available in hardware configuration file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><em>Dict</em></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><em>Any</em></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="jiminy_py.robot.BaseJiminyRobot">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">jiminy_py.robot.</span></span><span class="sig-name descname"><span class="pre">BaseJiminyRobot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">(object)arg1</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">(str)name=''</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jiminy_py/robot.html#BaseJiminyRobot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jiminy_py.robot.BaseJiminyRobot" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core/robot.html#jiminy_py.core.Robot" title="jiminy_py.core.Robot"><code class="xref py py-class docutils literal notranslate"><span class="pre">Robot</span></code></a></p>
<p>Base class to instantiate a Jiminy robot based on a standard URDF file
and Jiminy-specific hardware description file.</p>
<p>The utility ‘generate_default_hardware_description_file’ is provided to
automatically generate a default hardware description file for any given
URDF file. URDF file containing Gazebo plugins description should not
require any further modification as it usually includes the information
required to fully characterize the motors, sensors, contact points and
collision bodies, along with some of there properties.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Overload this class if you need finer-grained capability.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Hardware description files within the same directory and having the
name than the URDF file will be detected automatically without
requiring to manually specify its path.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Name of the robot to be created.
Optional: Empty string by default.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="jiminy_py.robot.BaseJiminyRobot.initialize">
<span class="sig-name descname"><span class="pre">initialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">urdf_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hardware_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh_dir_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh_package_dirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">has_freeflyer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">avoid_instable_collisions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_visual_meshes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/jiminy_py/robot.html#BaseJiminyRobot.initialize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#jiminy_py.robot.BaseJiminyRobot.initialize" title="Link to this definition">¶</a></dt>
<dd><p>Initialize the robot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>urdf_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Path of the URDF file of the robot.</p></li>
<li><p><strong>hardware_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> | </em><em>None</em>) – Path of Jiminy hardware description toml file.
Optional: Looking for ‘*_hardware.toml’ file in
the same folder and with the same name. If not
found, then no hardware is added to the robot,
which is valid and can be used for display.</p></li>
<li><p><strong>mesh_dir_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> | </em><em>None</em>) – Path to the folder containing the URDF meshes. It
will overwrite the common root of all absolute
mesh paths.
Optional: Env variable ‘JIMINY_DATA_PATH’ will be
used if available.</p></li>
<li><p><strong>mesh_package_dirs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.13)"><em>Sequence</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>]</em>) – Additional search paths for all relative mesh
paths beginning with ‘packages://’ directive.
‘mesh_dir_path’ is systematically appended.</p></li>
<li><p><strong>has_freeflyer</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – Whether the robot is fixed-based wrt its root
link, or can move freely in the world.</p></li>
<li><p><strong>avoid_instable_collisions</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – Prevent numerical instabilities by
replacing collision mesh by vertices
of associated minimal volume bounding
box, primitive box by its vertices,
and primitive sphere by its center.</p></li>
<li><p><strong>load_visual_meshes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – Load visual and collision geometries when
creating the robot. It will allow for
dumping standalone log files that are
safe to carry around but larger.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – Whether to print warnings.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>None</em></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="core/utilities.html" class="btn btn-neutral float-left" title="utilities" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="simulator.html" class="btn btn-neutral float-right" title="simulator" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Alexis Duburcq - MIT licence.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>